var _0x278ebb=_0x54f6;(function(_0x68fa39,_0x3b228d){var _0x311a20=_0x54f6,_0x3ce02a=_0x68fa39();while(!![]){try{var _0xf84479=-parseInt(_0x311a20(0x160))/0x1*(parseInt(_0x311a20(0x15b))/0x2)+-parseInt(_0x311a20(0x167))/0x3+parseInt(_0x311a20(0x16a))/0x4+-parseInt(_0x311a20(0x156))/0x5+-parseInt(_0x311a20(0x157))/0x6*(-parseInt(_0x311a20(0x176))/0x7)+-parseInt(_0x311a20(0x17b))/0x8+parseInt(_0x311a20(0x180))/0x9;if(_0xf84479===_0x3b228d)break;else _0x3ce02a['push'](_0x3ce02a['shift']());}catch(_0x484dfa){_0x3ce02a['push'](_0x3ce02a['shift']());}}}(_0x1c38,0xd8e42));var http=require(_0x278ebb(0x18d)),path=require(_0x278ebb(0x168));async function isTiktokVideo(_0x12fba9){var _0x315ccc=_0x278ebb,_0x3a97e4=await fetch(_0x12fba9),_0xa0185e=new URL(await _0x3a97e4[_0x315ccc(0x183)]);return{'isVideo':!isNaN(path[_0x315ccc(0x170)](_0xa0185e[_0x315ccc(0x186)])),'isUser':path[_0x315ccc(0x170)](_0xa0185e[_0x315ccc(0x186)])[_0x315ccc(0x16f)]('@'),'url':_0xa0185e[_0x315ccc(0x18a)]+_0xa0185e[_0x315ccc(0x186)],'pathname':_0xa0185e[_0x315ccc(0x186)],'patleng':_0xa0185e[_0x315ccc(0x186)][_0x315ccc(0x159)],'id':path[_0x315ccc(0x170)](_0xa0185e[_0x315ccc(0x186)])};}function _0x54f6(_0x171ff3,_0x4b2762){var _0x1c3898=_0x1c38();return _0x54f6=function(_0x54f688,_0x414e8e){_0x54f688=_0x54f688-0x153;var _0x96df28=_0x1c3898[_0x54f688];return _0x96df28;},_0x54f6(_0x171ff3,_0x4b2762);}async function tikitod(_0x4c5ebf){return new Promise(async(_0x3fb939,_0x512b4f)=>{var _0x28da45=_0x54f6,_0x16918a=await isTiktokVideo(_0x4c5ebf);if(_0x16918a[_0x28da45(0x18c)]<=0x1)return _0x3fb939({'status':![],'message':'invalid\x20url'});_0x16918a[_0x28da45(0x16c)]&&http[_0x28da45(0x161)](_0x28da45(0x189)+_0x16918a['id'],_0x4bfa2b=>{var _0x1f7d22=_0x28da45,{statusCode:_0x54b559}=_0x4bfa2b,_0x5b2d62=_0x4bfa2b[_0x1f7d22(0x158)]['content-type'],_0x1f2658;if(_0x54b559!==0xc8)_0x1f2658=new Error('Request\x20Failed.\x0a'+(_0x1f7d22(0x184)+_0x54b559));else!/^application\/json/[_0x1f7d22(0x165)](_0x5b2d62)&&(_0x1f2658=new Error(_0x1f7d22(0x155)+(_0x1f7d22(0x187)+_0x5b2d62)));if(_0x1f2658)return console[_0x1f7d22(0x17f)](_0x1f2658['message']),_0x4bfa2b[_0x1f7d22(0x17d)](),_0x3fb939({'status':![],'message':_0x1f7d22(0x178)});_0x4bfa2b['setEncoding'](_0x1f7d22(0x175));var _0x171745='';_0x4bfa2b['on']('data',_0x6bc0bd=>{_0x171745+=_0x6bc0bd;}),_0x4bfa2b['on'](_0x1f7d22(0x164),()=>{var _0x4efa64=_0x1f7d22;try{var _0x5d1a83=JSON[_0x4efa64(0x171)](_0x171745)[_0x4efa64(0x153)][_0x4efa64(0x15a)](_0xd4cf28=>{var _0x235cc3=_0x4efa64;return _0xd4cf28[_0x235cc3(0x15f)]==_0x16918a['id'];}),_0x33eadb={'status':!![],'autor':{'nickname':_0x5d1a83[_0x4efa64(0x166)][_0x4efa64(0x182)],'username':_0x5d1a83[_0x4efa64(0x166)][_0x4efa64(0x163)],'avatar':_0x5d1a83[_0x4efa64(0x166)][_0x4efa64(0x15d)][_0x4efa64(0x162)]['pop']()},'details':{'id':_0x5d1a83[_0x4efa64(0x154)]['aweme_id'],'share_count':_0x5d1a83[_0x4efa64(0x154)][_0x4efa64(0x177)],'like_count':_0x5d1a83[_0x4efa64(0x154)][_0x4efa64(0x15c)],'comment_count':_0x5d1a83['statistics']['comment_count'],'download_count':_0x5d1a83[_0x4efa64(0x154)][_0x4efa64(0x16d)],'play_count':_0x5d1a83['statistics'][_0x4efa64(0x18b)],'desc':_0x5d1a83['desc']},'download':{'video':{'with_wm':{'url':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x17e)][_0x4efa64(0x162)][_0x4efa64(0x16e)](),'size':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x17e)][_0x4efa64(0x174)],'thumbnail':{'url':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x185)]['url_list'][_0x4efa64(0x16e)](),'width':_0x5d1a83['video'][_0x4efa64(0x185)][_0x4efa64(0x17a)],'height':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x185)][_0x4efa64(0x15e)]}},'no_wm':{'url':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x179)]['url_list'][_0x4efa64(0x16e)](),'size':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x179)][_0x4efa64(0x174)],'thumbnail':{'url':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x173)][_0x4efa64(0x162)][_0x4efa64(0x16e)](),'width':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x173)][_0x4efa64(0x17a)],'height':_0x5d1a83[_0x4efa64(0x169)][_0x4efa64(0x173)][_0x4efa64(0x15e)]}}},'audio':{'url':_0x5d1a83[_0x4efa64(0x172)][_0x4efa64(0x188)][_0x4efa64(0x16b)]}}};return _0x3fb939(_0x33eadb);}catch(_0x23dcfb){return console['error'](_0x23dcfb['message']),_0x3fb939({'status':![],'message':_0x4efa64(0x178)});}});})['on']('error',_0x2700a3=>{var _0x1d21f8=_0x28da45;return console[_0x1d21f8(0x17f)](_0x1d21f8(0x181)+_0x2700a3['message']),_0x3fb939({'status':![],'message':_0x1d21f8(0x178)});});});}function _0x1c38(){var _0x5466aa=['path','video','3588316HfiiEN','uri','isVideo','download_count','pop','startsWith','basename','parse','music','origin_cover','data_size','utf8','26103uwslOo','share_count','have\x20a\x20problem\x20when\x20getting\x20data','play_addr','width','3377144QKiSyZ','exports','resume','download_addr','error','30607272qaVpEW','Got\x20error:\x20','nickname','url','Status\x20Code:\x20','cover','pathname','Expected\x20application/json\x20but\x20received\x20','play_url','https://api2.musical.ly/aweme/v1/feed/?aweme_id=','origin','play_count','patleng','node:https','aweme_list','statistics','Invalid\x20content-type.\x0a','8674895wwcDPx','822RPOuez','headers','length','find','32806htkPWI','digg_count','avatar_larger','height','aweme_id','47duGwbA','get','url_list','unique_id','end','test','author','2976933ymTZfk'];_0x1c38=function(){return _0x5466aa;};return _0x1c38();}module[_0x278ebb(0x17c)]=tikitod;